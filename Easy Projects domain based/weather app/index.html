<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Weather App Pro</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#5c7cfa" />
</head>
<body>
  <div class="app">
    <header>
      <h1>ğŸŒ¤ Weather Pro</h1>
      <nav class="app-nav">
        <button class="nav-btn active" data-view="weather">Weather</button>
        <button class="nav-btn" data-view="maps">Maps</button>
        <button class="nav-btn" data-view="history">History</button>
        <button class="nav-btn" data-view="alerts">Alerts</button>
        <button class="nav-btn" data-view="profile">Profile</button>
      </nav>
    </header>

    <div id="view-weather" class="app-view active">
      <div id="placeholder" class="message">
        <h2>Welcome!</h2>
        <p>Search for a city or use the location button to get started.</p>
        <p>This is a Progressive Web App (PWA).</p>
      </div>

      <div id="error" class="message error-msg" style="display: none;">
        <h3>Error</h3>
        <p id="errorMessage"></p>
      </div>

      <div class="search-section">
        <input type="text" id="cityInput" placeholder="Enter City Name" />
        <button id="searchBtn">ğŸ”</button>
        <button id="geoBtn">ğŸ“</button>
      </div>

      <div id="weather" style="display: none;">
        <div class="main-weather">
          <div class="icon-temp-wrap">
            <div id="iconWrap"><div id="icon" style="background-image: url('icons/day/113.svg');"></div></div>
            <h2 id="temp">--</h2>
          </div>
          <div class="city-details">
            <h3 id="place">--</h3>
            <p id="desc">--</p>
            <p id="updatedAt">Updated: --</p>
            <div class="secondary-controls">
              <button id="toggleUnit">Â°C</button>
              <button id="addFavorite">â­ Favorite</button>
              <button id="refreshData">ğŸ”„ Refresh</button>
            </div>
          </div>
        </div>

        <div class="details-grid">
          <div class="detail-item">
            <div class="detail-icon">ğŸ’§</div>
            <p>Humidity</p>
            <span id="humidity">--</span>
          </div>
          <div class="detail-item">
            <div class="detail-icon">ğŸ’¨</div>
            <p>Wind Speed</p>
            <span id="wind">--</span>
          </div>
          <div class="detail-item">
            <div class="detail-icon">ğŸŒ¡ï¸</div>
            <p>Feels Like</p>
            <span id="feels">--</span>
          </div>
          <div class="detail-item">
            <div class="detail-icon">ğŸŒ¬ï¸</div>
            <p>Air Quality</p>
            <span id="airQuality">--</span>
          </div>
        </div>
      </div>
      
      <div id="favorites" class="favorites-section" style="display:none;">
        <h4>Your Favorite Cities</h4>
        <div class="favorite-cities">
          </div>
      </div>

      <div class="forecast-section">
        <h4>Next 5 Days Forecast</h4>
        <div id="forecast" class="forecast-list">
          </div>
      </div>
    </div>
    
    <div id="view-maps" class="app-view">
      <h2>Weather Maps & Radar</h2>
      <div class="map-controls">
        <label for="mapLayerSelect">Map Data Layer:</label>
        <select id="mapLayerSelect">
          <option value="temp">Temperature</option>
          <option value="clouds">Clouds</option>
          <option value="precipitation">Rain/Snow</option>
          <option value="pressure">Pressure</option>
          <option value="wind">Wind Speed</option>
        </select>
        <button id="centerMapBtn">ğŸ¯ Center on City</button>
      </div>
      <div id="weatherMap" style="height: 400px; width: 100%; border-radius: 12px; margin-top: 15px;"></div>
    </div>

    <div id="view-history" class="app-view">
      <h2>Historical Data</h2>
      <div class="history-controls">
        <div class="control-group">
          <label for="historyPeriod">Period:</label>
          <select id="historyPeriod">
            <option value="7">Last 7 Days</option>
            <option value="14">Last 14 Days</option>
            <option value="30">Last 30 Days</option>
          </select>
        </div>
        <div class="control-group">
          <label for="historyDataType">Data Type:</label>
          <select id="historyDataType">
            <option value="temp">Temperature</option>
            <option value="humidity">Humidity</option>
            <option value="wind">Wind Speed</option>
          </select>
        </div>
      </div>
      <div class="chart-container">
        <canvas id="historyChart"></canvas>
      </div>
    </div>

    <div id="view-alerts" class="app-view">
      <h2>Weather Alerts</h2>
      <div class="settings-section">
        <h4>Alert Notifications</h4>
        <div class="setting-item toggle-item">
          <label>Enable Alerts</label>
          <input type="checkbox" id="alertsToggle" checked>
        </div>
      </div>
      <div id="alertsList" class="alerts-list">
        <p id="placeholder">Alerts will appear here after searching for a location.</p>
      </div>
    </div>

    <div id="view-profile" class="app-view">
      <h2>User Profile</h2>
      <div class="profile-content">
        <div id="loginForm">
          <h3>Sign In</h3>
          <input type="email" id="userEmail" placeholder="Email">
          <input type="password" id="userPassword" placeholder="Password">
          <button id="loginBtn">Sign In</button>
          <p>Don't have an account? <a href="#" id="showRegister">Register</a></p>
        </div>
        
        <div id="registerForm" style="display:none;">
          <h3>Create Account</h3>
          <input type="text" id="registerName" placeholder="Full Name">
          <input type="email" id="registerEmail" placeholder="Email">
          <input type="password" id="registerPassword" placeholder="Password">
          <button id="registerBtn">Register</button>
          <p>Already have an account? <a href="#" id="showLogin">Sign In</a></p>
        </div>
        
        <div id="userSettings" style="display:none;">
          <div class="user-info">
            <div class="avatar">ğŸ‘¤</div>
            <h3 id="userName">User Name</h3>
            <p id="userEmailDisplay">user@example.com</p>
          </div>
          
          <div class="settings-section">
            <h4>Preferences</h4>
            <div class="setting-item">
              <label>Default Temperature Unit</label>
              <select id="defaultUnit">
                <option value="metric">Celsius (Â°C)</option>
                <option value="imperial">Fahrenheit (Â°F)</option>
              </select>
            </div>
            <div class="setting-item">
              <label>Default Location</label>
              <input type="text" id="defaultLocation" placeholder="Enter default location">
            </div>
            <button id="savePreferences">Save Preferences</button>
          </div>
          
          <button id="logoutBtn" class="logout-btn">Sign Out</button>
        </div>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>